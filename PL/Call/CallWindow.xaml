<Window x:Class="PL.Call.CallWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add New Call" Height="550" Width="600"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        DataContext="{Binding RelativeSource={RelativeSource Self}}">

    <Grid Margin="20" Background="#F8F9FA">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <Border Grid.Row="0" Background="#007ACC" CornerRadius="5" Margin="0,0,0,20">
            <TextBlock Text="Add New Call" 
                      FontSize="24" 
                      FontWeight="Bold" 
                      Foreground="White"
                      HorizontalAlignment="Center" 
                      Padding="10"/>
        </Border>

        <!-- Call Type -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,10">
            <TextBlock Text="Call Type:" 
                      Width="150" 
                      FontWeight="SemiBold" 
                      VerticalAlignment="Center"
                      FontSize="14"/>
            <ComboBox Name="CallTypeComboBox"
                     Width="300" 
                     Height="30"
                     FontSize="14"
                     SelectedValue="{Binding NewCall.MyCallType}"
                     SelectionChanged="CallTypeComboBox_SelectionChanged">
                <ComboBoxItem Content="Music Performance" Tag="MusicPerformance"/>
                <ComboBoxItem Content="Music Therapy" Tag="MusicTherapy"/>
                <ComboBoxItem Content="Singing and Emotional Support" Tag="SingingAndEmotionalSupport"/>
                <ComboBoxItem Content="Group Activities" Tag="GroupActivities"/>
                <ComboBoxItem Content="Personalized Music Care" Tag="PersonalizedMusicCare"/>
            </ComboBox>
        </StackPanel>

        <!-- Address -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,10">
            <TextBlock Text="Address:" 
                      Width="150" 
                      FontWeight="SemiBold" 
                      VerticalAlignment="Center"
                      FontSize="14"/>
            <TextBox Name="AddressTextBox"
                    Width="300" 
                    Height="30"
                    FontSize="14"
                    Text="{Binding NewCall.Address, UpdateSourceTrigger=PropertyChanged}"
                    BorderBrush="#CCCCCC"
                    BorderThickness="1"
                    Padding="5"/>
        </StackPanel>

        <!-- Verbal Description -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,10" VerticalAlignment="Top">
            <TextBlock Text="Verbal Description:" 
                      Width="150" 
                      FontWeight="SemiBold" 
                      VerticalAlignment="Top"
                      FontSize="14"
                      Margin="0,5,0,0"/>
            <TextBox Name="DescriptionTextBox"
                    Width="300" 
                    Height="80"
                    FontSize="14"
                    Text="{Binding NewCall.VerbalDescription, UpdateSourceTrigger=PropertyChanged}"
                    BorderBrush="#CCCCCC"
                    BorderThickness="1"
                    Padding="5"
                    TextWrapping="Wrap"
                    AcceptsReturn="True"
                    VerticalScrollBarVisibility="Auto"
                    MaxLength="500"/>
        </StackPanel>

        <!-- Maximum Finish Time -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" Margin="0,10">
            <TextBlock Text="Maximum Finish Time:" 
                      Width="150" 
                      FontWeight="SemiBold" 
                      VerticalAlignment="Center"
                      FontSize="14"/>
            <DatePicker Name="MaxFinishDatePicker"
                       Width="140"
                       Height="30"
                       FontSize="14"
                       SelectedDate="{Binding MaxFinishDate}"
                       BorderBrush="#CCCCCC"
                       BorderThickness="1"/>
            <TextBox Name="MaxFinishTimeTextBox"
                    Width="100"
                    Height="30"
                    FontSize="14"
                    Text="{Binding MaxFinishTime, UpdateSourceTrigger=PropertyChanged}"
                    BorderBrush="#CCCCCC"
                    BorderThickness="1"
                    Padding="5"
                    Margin="10,0,0,0"
                    ToolTip="Format: HH:MM"/>
            <TextBlock Text="(hour:minute)" 
                      VerticalAlignment="Center"
                      FontSize="12"
                      Foreground="Gray"
                      Margin="5,0,0,0"/>
        </StackPanel>

        <!-- Status (read-only) -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" Margin="0,10">
            <TextBlock Text="Call Status:" 
                      Width="150" 
                      FontWeight="SemiBold" 
                      VerticalAlignment="Center"
                      FontSize="14"/>
            <TextBox Width="300" 
                    Height="30"
                    FontSize="14"
                    Text="{Binding NewCall.MyStatus}"
                    IsReadOnly="True"
                    Background="#F0F0F0"
                    BorderBrush="#CCCCCC"
                    BorderThickness="1"
                    Padding="5"/>
        </StackPanel>

        <!-- Open Time (read-only) -->
        <StackPanel Grid.Row="6" Orientation="Horizontal" Margin="0,10">
            <TextBlock Text="Open Time:" 
                      Width="150" 
                      FontWeight="SemiBold" 
                      VerticalAlignment="Center"
                      FontSize="14"/>
            <TextBox Width="300" 
                    Height="30"
                    FontSize="14"
                    Text="{Binding NewCall.OpenTime, StringFormat='dd/MM/yyyy HH:mm:ss'}"
                    IsReadOnly="True"
                    Background="#F0F0F0"
                    BorderBrush="#CCCCCC"
                    BorderThickness="1"
                    Padding="5"/>
        </StackPanel>

        <!-- Error Message -->
        <TextBlock Name="ErrorMessageTextBlock"
                  Grid.Row="7"
                  Text=""
                  Foreground="Red"
                  FontWeight="SemiBold"
                  HorizontalAlignment="Center"
                  Margin="0,10"
                  TextWrapping="Wrap"
                  Visibility="Collapsed"/>

        <!-- Buttons -->
        <StackPanel Grid.Row="9" 
                   Orientation="Horizontal" 
                   HorizontalAlignment="Center" 
                   Margin="0,20,0,0">
            <Button Name="AddButton"
                   Content="Add Call" 
                   Width="120" 
                   Height="40"
                   FontSize="16"
                   FontWeight="SemiBold"
                   Background="#28A745"
                   Foreground="White"
                   BorderThickness="0"
                   Margin="0,0,20,0"
                   Cursor="Hand"
                   Click="AddButton_Click">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" 
                                           CornerRadius="5"
                                           BorderThickness="{TemplateBinding BorderThickness}"
                                           BorderBrush="{TemplateBinding BorderBrush}">
                                        <ContentPresenter HorizontalAlignment="Center" 
                                                        VerticalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#218838"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Button.Style>
            </Button>

            <Button Name="CancelButton"
                   Content="Cancel" 
                   Width="120" 
                   Height="40"
                   FontSize="16"
                   FontWeight="SemiBold"
                   Background="#6C757D"
                   Foreground="White"
                   BorderThickness="0"
                   Cursor="Hand"
                   Click="CancelButton_Click">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" 
                                           CornerRadius="5"
                                           BorderThickness="{TemplateBinding BorderThickness}"
                                           BorderBrush="{TemplateBinding BorderBrush}">
                                        <ContentPresenter HorizontalAlignment="Center" 
                                                        VerticalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#5A6268"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Button.Style>
            </Button>
        </StackPanel>
    </Grid>
</Window>